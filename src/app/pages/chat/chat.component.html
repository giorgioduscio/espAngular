<article>
  <app-nav-chat></app-nav-chat>

  
  <!--TODO CHATS -->
  <main class="chats">
    <div>
      <div class="chat" *ngFor="let chat of chats; let i =index" [id]="chat.key">
        <abbr [title]="chat.titleChat">
          
          @if(ems.editMode().active){ 
            <div (click)="ems.handleClick(chat.key!)">
              <img src="{{chat.imageUrl}}">
              <b>{{chat.titleChat}}</b> 
            </div>
            
          }@else{
            <div>
              <img [src]="chat.imageUrl" [alt]="chat.titleChat">
              <a routerLink="/chat/{{chat.key}}">
                {{ chat.titleChat }}
              </a>
              <button (click)="ems.handleClick(chat.key!)" class="btn btn-outline-light"> <mat-icon>settings</mat-icon> </button>
            </div>
          }
        </abbr>
      </div>
    </div>
  </main>


  <!--TODO NUOVO GRUPPO -->
  <form #groupForm="ngForm" (submit)="newGroup(groupForm)">
    <div class="input-group">

      <div class="form-floating">
        <input 
          type="search" 
          class="form-control" 
          placeholder="" 
          [readOnly]="ems.editMode().active"
          name="input" id="input" 
          ngModel required
        ><label for="input">Nuovo gruppo</label>
      </div>

      <button class="btn btn-outline-light" type="submit" [disabled]="groupForm.invalid">
        <mat-icon class="newGroup">add</mat-icon>
      </button>
    </div>
  </form>
</article>