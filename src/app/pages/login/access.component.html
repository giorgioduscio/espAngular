<article>
  <app-navbar></app-navbar>
  <div>
    <h1>Accedi</h1>
    <p>I campi contrassegnati dall'asterisco * sono obbligatori</p>
    <form (ngSubmit)="onSubmit()" [formGroup]="form">

      @for (item of template; track item; let i=$index){
        <div>
          <div class="form-floating">
            <input 
              class="form-control" 
              [type]="item.type" 
              [id]="item.key" 
              placeholder=""
              [formControlName]="item.key"
            > <label [for]="item.key">{{ item.title }}{{ form.get(item.key)?.valid ?'' :' *' }}</label>
          </div>
          <i *ngIf="!form.get(item.key)?.valid &&form.get(item.key)?.touched">Campo non valido.</i>
        </div>
      }
      <p>Non hai ancora un profilo? <a routerLink="/login">Login</a></p>
      <button class="btn btn-primary" type="submit" [disabled]="form.invalid">Invio</button>
    
    </form>
  </div>
</article>